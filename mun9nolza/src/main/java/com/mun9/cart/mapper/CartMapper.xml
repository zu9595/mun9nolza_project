<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.mun9.cart.mapper.CartMapper">

  <select id="selectCartList" resultType="cart" parameterType="String">
  		select p.pro_code,c.user_id,p.pro_image, p.pro_name, p.pro_price, p.pro_discount, c.mypro_cnt
		from cart c join product p
		on c.pro_code = p.pro_code
		where c.user_id = #{userId}
  	</select>

	<update id="changeCnt" parameterType="cart">
		update cart set mypro_cnt = #{myproCnt}
		where user_id = #{userId } and pro_code = #{proCode}	
	</update>

	<delete id="deleteCart" parameterType="cart">
		delete cart
		where user_id = #{userId } and pro_code= #{proCode}
		
	</delete>
	
	<insert id="addCart" parameterType="cart">
		insert into cart values (mypro_no_seq.nextval,#{userId},#{proCode},#{proPrice},#{proDiscount},#{myproCnt})
	</insert>
  
 
</mapper>